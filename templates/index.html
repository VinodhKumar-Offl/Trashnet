<!DOCTYPE html>
<html>
<head>
    <title>Trash Classification</title>
    <link rel="shortcut icon" type="image/png" href="logo.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function previewImage(event) {
            var reader = new FileReader();
            reader.onload = function(){
                var output = document.getElementById('imagePreview');
                output.src = reader.result;
                output.style.display = 'block';
            };
            reader.readAsDataURL(event.target.files[0]);
        }
    </script>
</head>
<body>
<div class="container mt-5">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header text-center">
                    <h1>TrashNet</h1>
                </div>
                <div class="card-body">
                    <p class="text-center">Enter your input image:</p>
                    <p class="text-center">CATEGORIES=['cardboard','glass','metal','paper','plastic','trash']<br>further split to Bio-degradable and non Bio</p>
                    <form method="POST" id="form" action="" enctype="multipart/form-data">
                        <div class="form-group">
                            <input type="file" class="form-control-file" accept="image/png, image/jpeg, image/gif" name="image" onchange="previewImage(event)">
                        </div>
                        <div class="text-center">
                            <img id="imagePreview" style="display:none; max-width: 100%; height: auto; margin-top: 20px;" class="img-thumbnail"/>
                        </div>
                        <div class="text-center mt-3">
                            <input type="submit" class="btn btn-primary" value="Submit">
                        </div>
                        {% if error %}
                            <div class="alert alert-danger mt-3" role="alert">
                                <strong>Error:</strong> {{ error }}
                            </div>
                        {% endif %}
                    </form>
                    {% if answer is not none %}
                        <div class="alert alert-success mt-3" role="alert">
                            <p><strong>Category:</strong> {{ answer[0] }}</p>
                            <p><strong>Classified as:</strong> {{ answer[1] }}</p>
                            <p><strong>Probability:</strong> {{ answer[2] }}</p>
                        </div>
                    {% endif %}
                    {% if image_url %}
                        <div class="text-center mt-3">
                            <img src="{{ image_url }}" class="img-thumbnail" alt="Uploaded Image"/>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
